# terraform-aws-label

![](https://github.com/lependu/terraform-aws-label/workflows/ci/badge.svg)
![](https://img.shields.io/github/v/tag/lependu/terraform-aws-label?label=latest)

Terraform module designed to generate consistent names and tags for resources. It is also useful for implementing AWS cost allocation tags.

Inspired by [cloudposse/terraform-null-label](https://github.com/cloudposse/terraform-null-label). For a more complex use cases, please check that out.

The label generated by the following convention: `[namespace]-[stage]-[name]`. The delimiter (e.g. -) is interchangeable.

## Simple example
```hcl
module "label" {
  source  = "git::https://github.com/lependu/terraform-aws-label?ref=0.1.0"
  namespace = var.namespace
  stage     = var.stage
  name      = var.name
  user      = var.user
  delimiter = var.delimiter
  additional_tag_map = var.additional_tag_map
}
```

## Inputs
| Name | Description | Type | Default | Required |
| :--- | :---------- | :--- | :-----: | :------: |
| namespace |  Namespace, which could be your organization name or abbreviation | string | `terraform` | no |
| stage | Normalized stage | string | `dev` | no |
| name | Soulution name | string | `app` | no |
| user | user name | string | `dev` | no |
| delimiter | delimiter to use string separation | string | `-` | no |
| additional_tag_map | Additional tags | map(list) | `{}` | no |

## Outputs

| Name | Description |
| :--- | :---------- |
| label | The combined name of the resource in namespace-stage-name format |
| tags | Normalized tag map |

## Running test
```bash
$ cd test
$ go test
```
